<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@WebFXProject"><meta name="twitter:creator" content="@WebFXProject"><meta name="twitter:title" content="Opening files"><meta name="twitter:description" content="How to open local files with WebFX"><meta name="twitter:image" content="https://blog.webfx.dev/opening-files/opening-files.htmlFilesDemo.png"><title> Opening files · The WebFX blog</title><meta name="description" content="Opening files - Bruno Salmon"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="../favicon.png"><link rel="stylesheet" href="../css/hermes.css"><link rel="search" type="application/opensearchdescription+xml" href="https://blog.webfx.dev/atom.xml" title="The WebFX blog"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="atom.xml" title="The WebFX blog" type="application/atom+xml">
</head><body><div class="wrap"><header><a class="logo-link" href="../index.html"><img src="../WebFX.svg" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a class="nav-list-link" href="../index.html" target="_self">BLOG</a></li><li class="nav-list-item"><a class="nav-list-link" href="../archives/" target="_self">ARCHIVE</a></li><li class="nav-list-item"><a class="nav-list-link" href="https://github.com/webfx-project/webfx" target="_blank">GITHUB</a></li><li class="nav-list-item"><a class="nav-list-link" href="../atom.xml" target="_self">FEED</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Opening files</h1><div class="post-info">Oct 18, 2022</div><div class="post-content"><p>First of all, a big thank you to the JavaFX community for warmly welcoming us on Twitter. In just a couple of days after creating our account, you were already 100+ to follow us! <a target="_blank" rel="noopener" href="https://www.jfx-central.com/">JFX-Central</a> kindly listed us in their <em>Links of the Week</em> on September 30, with links to our last blog and demo. Thank you all for your interest in the WebFX project! ❤️</p>
<p>It was also an opportunity for us to receive questions, and the most frequent question was actually about accessing local files. WebFX was not supporting this feature at that time, but we investigated since, and we are glad to announce that it’s now possible, as demonstrated with our brand-new <a target="_blank" rel="noopener" href="https://files.webfx.dev/">Files demo</a>.</p>
<p>This demo lets you select local files with either the <em>Choose files</em> button or drag &amp; drop. The files are listed with their icon and other simple details, and a thumbnail is displayed for images. A grid view is also available with just the thumbnails. You can open your images in full size, and navigate using left &amp; right keys or mouse clicks or swipes on touch screens. Same with your audio files, which are played together with the equaliser from our DemoFX library. Video files will be supported very soon (only the audio is played for now). Text files can be displayed in a TextArea.</p>
<p><strong>Issues with the JavaFX FileChooser and Java File API</strong></p>
<p>Our first investigation was rather bad news: it appeared that it was impossible to emulate the JavaFX FileChooser API in the browser, mainly for the 2 following reasons:</p>
<ul>
<li><p>In JavaFX, opening the file chooser is done programmatically through a call to FileChooser.showOpenDialog(), which in addition is a blocking call - something prohibited in JavaScript - while in the browser it is done through a user interaction with the HTML input element <code>&lt;input type=&quot;file&quot;&gt;</code> which is rendered like this: <input type="file">   </p>
</li>
<li><p>The <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/File">File</a> object returned by the browser file chooser (rather called FilePicker) has very limited information about the actual local file. For example, it doesn’t let you know its location on the local machine, and its URL is a kind of random UUID that is valid only for the time of the session. With such a limited sandbox object, it’s impossible to emulate java.io.File, the object returned by the JavaFX FileChooser.</p>
</li>
</ul>
<p><strong>The alternative API offered by WebFX</strong></p>
<p>While it’s impossible to emulate the JavaFX FileChooser and the Java File API in the browser, the opposite is possible: it’s quite simple to emulate the Web FilePicker and Web File API in Java&#x2F;JavaFX. This is therefore the WebFX approach.</p>
<p>In our <a target="_blank" rel="noopener" href="https://github.com/webfx-project/webfx-platform">WebFX Platform</a>, you will see the following new modules:</p>
<ol>
<li><code>webfx-platform-file</code> &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; : a cross-platform API for working with local files</li>
<li><code>webfx-platform-file-java</code> : its implementation in Java</li>
<li><code>webfx-platform-file-gwt</code> &amp;nbsp; : its implementation in GWT</li>
</ol>
<p><strong>Show me the code</strong></p>
<p><strong>What’s next?</strong></p>
</div></article></div></main><footer><div class="paginator"></div><div class="copyright"><p><a href="https://webfx.dev" target="_blank">WebFX</a> © 2021 - 2022</p></div></footer></div><!--script(async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous")--></body></html>